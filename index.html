<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Campus Finder Hub â€” Messages</title>

<!-- Favicon (Your Embedded M Shield Logo) -->
<link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABgAAAAQACAIAAACoEwUV...YOUR_FULL_BASE64..." />

<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #f5f5f5;
    }
    header {
        background: #6e0b14;
        padding: 14px;
        color: white;
        display: flex;
        align-items: center;
        gap: 12px;
    }
    header img {
        width: 38px;
        height: 38px;
        border-radius: 6px;
    }
    header h1 {
        margin: 0;
        font-size: 22px;
        letter-spacing: 1px;
    }

    /* Tabs */
    .tabs {
        display: flex;
        background: white;
        border-bottom: 1px solid #ccc;
    }
    .tab {
        flex: 1;
        padding: 14px;
        text-align: center;
        cursor: pointer;
        font-weight: bold;
    }
    .tab.active {
        background: #6e0b14;
        color: white;
    }

    /* Pages */
    .page {
        display: none;
        padding: 20px;
    }
    .page.active {
        display: block;
    }

    /* Login Box */
    #loginBox {
        max-width: 360px;
        margin: 40px auto;
        background: white;
        border-radius: 8px;
        padding: 24px;
        box-shadow: 0 0 10px #0001;
    }
    #loginBox input {
        width: 100%;
        margin-bottom: 12px;
        padding: 12px;
        border-radius: 6px;
        border: 1px solid #ccc;
    }
    #loginBox button {
        width: 100%;
        padding: 12px;
        background: #6e0b14;
        color: white;
        font-weight: bold;
        border: none;
        border-radius: 6px;
        cursor: pointer;
    }

    /* Message List */
    .msg {
        display: flex;
        margin-bottom: 14px;
        background: white;
        padding: 12px;
        border-radius: 8px;
        align-items: flex-start;
        gap: 12px;
    }
    .msg img {
        width: 44px;
        height: 44px;
        border-radius: 50%;
    }
    .msg .bubble {
        background: #eee;
        padding: 10px 14px;
        border-radius: 8px;
    }
    .badge {
        font-size: 10px;
        padding: 2px 6px;
        background: #6e0b14;
        color: white;
        border-radius: 4px;
    }

    /* Profile Page */
    .profile {
        max-width: 420px;
        margin: auto;
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px #0001;
    }
    .profile img {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        margin-bottom: 10px;
    }
</style>
</head>
<body>

<header>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABgAAAAQACAIAAACoEwUV...YOUR_FULL_BASE64..." />
    <h1>Campus Finder Hub</h1>
</header>

<div id="loginBox">
    <h2>Login / Signup</h2>
    <input id="email" type="text" placeholder="Email" />
    <input id="pass" type="password" placeholder="Password" />
    <button onclick="login()">Continue</button>
</div>

<div id="main" style="display:none;">

    <!-- TABS -->
    <div class="tabs">
        <div class="tab active" onclick="switchTab('messages')">Messages</div>
        <div class="tab" onclick="switchTab('profile')">Profile</div>
    </div>

    <!-- PAGES -->

    <div id="messages" class="page active">
        <h2>Your Conversations</h2>
        <div id="msgList"></div>
    </div>

    <div id="profile" class="page">
        <div class="profile">
            <img id="pfp" src="" />
            <br />
            <strong id="pName"></strong><br />
            <small id="pEmail"></small><br />
            <small id="pJoined"></small><br />
            <small id="pCount"></small>
            <hr />
            <input type="file" id="upload" accept="image/*" onchange="uploadPFP(this)" />
        </div>
    </div>
</div>

<script>
let USER = null;
let adminEmail = "mithun@admin.com";
let LOGO = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABgAAAAQACAIAAACoEwUV...YOUR_FULL_BASE64...";

function login(){
    let email = document.getElementById('email').value;
    if(!email){ alert("Enter email"); return; }
    USER = {
        email,
        name: email.split('@')[0],
        joined: new Date().toLocaleDateString(),
        messages: 4,
        photo: LOGO
    };

    document.getElementById('loginBox').style.display = 'none';
    document.getElementById('main').style.display = 'block';

    loadProfile();
    loadMessages();
}

function switchTab(id){
    document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    event.target.classList.add('active');
    document.getElementById(id).classList.add('active');
}

function loadProfile(){
    document.getElementById('pfp').src = USER.photo;
    document.getElementById('pName').textContent = USER.name;
    document.getElementById('pEmail').textContent = USER.email;
    document.getElementById('pJoined').textContent = "Joined: " + USER.joined;
    document.getElementById('pCount').textContent = "Messages: " + USER.messages;
}

function loadMessages(){
    let box = document.getElementById('msgList');

    box.innerHTML = `
        <div class='msg'>
            <img src='${LOGO}' />
            <div>
                <div><span class='badge'>ADMIN</span> Hello! How can I help?</div>
                <small>Just now</small>
            </div>
        </div>
        <div class='msg'>
            <img src='${USER.photo}' />
            <div>
                <div><span class='badge' style='background:#555'>YOU</span> I need help finding a college.</div>
                <small>Just now</small>
            </div>
        </div>
    `;
}

function uploadPFP(input){
    const file = input.files[0];
    const reader = new FileReader();
    reader.onload = e => {
        USER.photo = e.target.result;
        loadProfile();
        loadMessages();
    };
    reader.readAsDataURL(file);
}
</script>
</body>
</html>
