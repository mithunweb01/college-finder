<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>College Finder ‚Äî Messages</title>
  <link rel="canonical" href="https://mithunweb01.github.io/">
  <meta name="description" content="Find colleges in Tamil Nadu (Chennai, Coimbatore, Pondicherry, Trichy, Madurai, Salem).">
  <meta name="author" content="Mithun">
  <!-- Use the PNG/JPG you uploaded. If your file is my-logo.jpg, keep this path. -->
  <link rel="icon" href="my-logo.jpg" />

  <style>
    :root{--brand:#0a3d62;--accent:#ffcc00;--bg:#eef3f8;--card:#fff}
    *{box-sizing:border-box}
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:#123}
    header{background:var(--brand);color:#fff;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:40}
    header h1{margin:0;font-size:20px}
    .wrap{display:flex;gap:18px;max-width:1100px;margin:18px auto;padding:0 12px}
    .sidebar{width:230px;background:var(--brand);color:#fff;border-radius:10px;padding:12px;min-height:70vh;position:sticky;top:88px}
    .logo{display:flex;gap:8px;align-items:center}
    .logo img{height:44px;width:44px;border-radius:8px;object-fit:cover}
    .tab-button{display:block;padding:10px 12px;color:#fff;text-decoration:none;border-radius:6px;margin:6px 0;border-left:4px solid transparent;cursor:pointer;background:transparent;border:none;text-align:left}
    .tab-button:hover{background:#074068}
    .tab-button.active{background:#052a4a;border-left:4px solid var(--accent)}
    main{flex:1}
    .card{background:var(--card);padding:14px;border-radius:10px;margin-bottom:16px;box-shadow:0 6px 18px rgba(6,30,60,0.06)}
    .flip-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}
    .flip{background:linear-gradient(135deg,#fff,#dbe9ff);border-radius:10px;height:130px;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:12px;position:relative;cursor:pointer}
    .view-btn{position:absolute;right:10px;bottom:10px;background:var(--accent);color:#111;padding:6px 10px;border-radius:6px;border:none;cursor:pointer;font-weight:700}
    /* messages */
    #messages-wrap{display:flex;gap:12px;height:70vh}
    .chats-list{width:320px;background:var(--card);border-radius:10px;padding:10px;overflow:auto}
    .chat-window{flex:1;background:var(--card);border-radius:10px;padding:10px;display:flex;flex-direction:column}
    .chat-header{display:flex;align-items:center;gap:12px;padding-bottom:8px;border-bottom:1px solid #eee}
    .messages{flex:1;overflow:auto;padding:12px}
    .msg{display:inline-block;max-width:80%;padding:8px 12px;margin:8px 0;border-radius:12px}
    .msg.user{background:#d9eaff;margin-left:auto}
    .msg.admin{background:#f1f1f1;margin-right:auto}
    .chat-input{display:flex;gap:8px;padding-top:8px}
    .chat-input input{flex:1;padding:10px;border-radius:8px;border:1px solid #ddd}
    .chat-input button{padding:10px 14px;border-radius:8px;border:none;background:var(--brand);color:#fff;cursor:pointer}
    input[type="email"], input[type="password"], input[type="text"], input[type="date"]{width:100%;padding:8px;margin:6px 0;border-radius:6px;border:1px solid #ccc}
    .small{font-size:13px;color:#666}
   @media(max-width:900px){
  .wrap{
    flex-direction:column;
    padding:0 10px;
    margin-top:10px; /* prevents overlapping under header */
  }

  .sidebar{
    width:100%;
    display:flex;
    overflow-x:auto;
    gap:4px;                 /* smaller gaps */
    padding:6px;             /* smaller padding */
    min-height:auto;         /* no tall bar */
    background:var(--brand);
    border-radius:8px;
  }

  .sidebar .logo{
    display:none;            /* hide logo to save space */
  }

  .tab-button{
    flex:0 0 auto;
    padding:6px 10px;       /* smaller button */
    font-size:13px;         /* smaller text */
    border-left:none;
    border-bottom:3px solid transparent;
    white-space:nowrap;     /* keeps text in one line */
  }

  .tab-button.active{
    border-bottom:3px solid var(--accent);
  }

  #messages-wrap{
    flex-direction:column;
    height:60vh;
  }

  .chats-list{
    width:100%;
  }
}

  </style>
</head>
<body>
<header>
  <div style="display:flex;align-items:center;gap:12px">
    <img src="my-logo.jpg" alt="logo" style="height:36px;width:36px;border-radius:6px;object-fit:cover">
    <h1>College Finder</h1>
  </div>
  <div id="auth-area" style="display:flex;align-items:center;gap:12px">
    <span id="welcomeTxt" style="color:#fff;font-size:14px">Not signed in</span>
    <button id="btn-auth" style="background:transparent;border:1px solid rgba(255,255,255,0.18);color:#fff;padding:8px 10px;border-radius:8px;cursor:pointer">Login / Signup</button>
  </div>
</header>

<div class="wrap">
  <aside class="sidebar" id="sidebar">
    <div class="logo">
      <img src="my-logo.jpg" alt="logo">
      <div style="margin-left:8px">
        <strong>College Finder</strong>
        <div class="small">Tamil Nadu colleges</div>
      </div>
    </div>

    <button class="tab-button active" data-tab="home">üè† Home</button>
    <button class="tab-button" data-tab="chennai">Chennai</button>
    <button class="tab-button" data-tab="pondy">Pondicherry</button>
    <button class="tab-button" data-tab="coimbatore">Coimbatore</button>
    <button class="tab-button" data-tab="trichy">Trichy</button>
    <button class="tab-button" data-tab="madurai">Madurai</button>
    <button class="tab-button" data-tab="salem">Salem</button>

    <div style="margin-top:12px;border-top:1px solid rgba(255,255,255,0.06);padding-top:12px">
      <div class="small" style="color:#dfe9f5">Logged in user</div>
      <div id="sidebar-user" style="font-weight:700;margin-top:6px">‚Äî</div>
      <button id="btn-logout" class="tab-button" style="background:transparent;margin-top:10px;color:#fff">Logout</button>
    </div>
  </aside>

  <main style="flex:1">
    <!-- HOME -->
    <section id="home" class="card" data-section>
      <h2>Welcome to College Finder</h2>
      <p class="small">This site lists colleges in Tamil Nadu. Click any card's <b>View</b> ‚Äî you'll be asked to login if not signed in.</p>

      <div class="card" id="flip-board">
        <h3 style="margin-top:0;color:darkred;text-align:center">Explore All Colleges Quickly</h3>
        <div class="flip-grid" id="flip-grid"></div>
      </div>
    </section>

    <!-- Cities -->
    <section id="chennai" class="card" data-section style="display:none"><h2 style="text-align:center;color:darkred">Chennai</h2><div id="chennai-content">Loading‚Ä¶</div></section>
    <section id="pondy" class="card" data-section style="display:none"><h2 style="text-align:center;color:darkred">Pondicherry</h2><div id="pondy-content">Loading‚Ä¶</div></section>
    <section id="coimbatore" class="card" data-section style="display:none"><h2 style="text-align:center;color:darkred">Coimbatore</h2><div id="coimbatore-content">Loading‚Ä¶</div></section>
    <section id="trichy" class="card" data-section style="display:none"><h2 style="text-align:center;color:darkred">Trichy</h2><div id="trichy-content">Loading‚Ä¶</div></section>
    <section id="madurai" class="card" data-section style="display:none"><h2 style="text-align:center;color:darkred">Madurai</h2><div id="madurai-content">Loading‚Ä¶</div></section>
    <section id="salem" class="card" data-section style="display:none"><h2 style="text-align:center;color:darkred">Salem</h2><div id="salem-content">Loading‚Ä¶</div></section>

    <!-- Messages (per-user) -->
    <section id="messages" class="card" data-section style="display:none">
      <h2 style="text-align:center;color:darkred">Messages</h2>
      <div id="messages-wrap">
        <div class="chats-list" id="user-chat-list"><div style="font-weight:700">Your Chat</div><div class="small" style="margin-top:6px">Messages are synced with Firebase.</div></div>
        <div class="chat-window">
          <div class="chat-header"><strong id="chat-with">Admin</strong></div>
          <div class="messages" id="chat-messages"></div>
          <div class="chat-input">
            <input id="chat-input" placeholder="Type your message..." />
            <button id="chat-send">Send</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Admin -->
    <section id="admin" class="card" data-section style="display:none">
      <h2 style="text-align:center;color:darkred">Admin Dashboard</h2>
      <div style="display:flex;gap:12px">
        <div class="chats-list" id="admin-user-list"><div style="font-weight:700">Users</div></div>
        <div class="chat-window">
          <div class="chat-header" id="admin-chat-header"><strong>Select a user</strong></div>
          <div class="messages" id="admin-chat-messages"></div>
          <div class="chat-input">
            <input id="admin-chat-input" placeholder="Reply..." />
            <button id="admin-chat-send">Send</button>
          </div>
        </div>
      </div>
    </section>

  </main>
</div>

<!-- Auth modal -->
<div id="authModal" style="display:none;position:fixed;inset:0;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:60">
  <div style="background:#fff;padding:18px;border-radius:10px;width:320px;max-width:95%">
    <h3 style="margin:0 0 8px 0">Login / Signup</h3>
    <input id="authEmail" type="email" placeholder="Email" />
    <input id="authPass" type="password" placeholder="Password" />
    <div style="display:flex;gap:8px;margin-top:8px">
      <button id="authLogin" style="flex:1;padding:10px;background:var(--brand);color:#fff;border:none;border-radius:6px">Login</button>
      <button id="authSignup" style="flex:1;padding:10px;background:#ffcc00;border:none;border-radius:6px">Signup</button>
    </div>
    <div style="margin-top:8px;text-align:right"><button id="authClose" style="background:transparent;border:none;color:#666">Close</button></div>
  </div>
</div>

<!-- Load app.js as a module (must be in the same folder as index.html) -->
<script type="module" src="./app.js"></script>
</body>
</html>
