<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Campus Finder Hub</title>

<!-- Firebase COMPAT VERSION (MUST USE THIS) -->


<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
}

/* Simple navbar */
nav {
    background: #007bff;
    padding: 10px;
    display: flex;
    gap: 15px;
}

nav a {
    color: white;
    text-decoration: none;
    font-size: 18px;
}

.tab {
    display: none;
    padding: 20px;
}

.active {
    display: block;
}

.message-box {
    width: 100%;
    padding: 8px;
    margin-top: 10px;
}
</style>
</head>

<body>

<nav>
  <a href="#" onclick="openTab('home')">Home</a>
  <a href="#" onclick="openTab('chennai')">Chennai</a>
  <a href="#" onclick="openTab('pondy')">Pondy</a>
  <a href="#" onclick="openTab('coimbatore')">Coimbatore</a>
  <a href="#" onclick="openTab('trichy')">Trichy</a>
  <a href="#" onclick="openTab('madurai')">Madurai</a>
  <a href="#" onclick="openTab('messages')">Messages</a>
</nav>

<!-- TABS -->
<div id="home" class="tab active">
  <h2>Home</h2>
  <p>Welcome to Campus Finder Hub!</p>
</div>

<div id="chennai" class="tab">
  <h2>Chennai Colleges</h2>
</div>

<div id="pondy" class="tab">
  <h2>Pondy Colleges</h2>
</div>

<div id="coimbatore" class="tab">
  <h2>Coimbatore Colleges</h2>
</div>

<div id="trichy" class="tab">
  <h2>Trichy Colleges</h2>
</div>

<div id="madurai" class="tab">
  <h2>Madurai Colleges</h2>
</div>

<div id="messages" class="tab">
  <h2>ðŸ’¬ Message Board</h2>

  <div id="messageList"></div>

  <input id="messageInput" class="message-box" placeholder="Type your message...">
  <button onclick="sendMessage()">Send</button>
</div>

<script>
/* ---------- TAB FUNCTION ---------- */
function openTab(tabName) {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.getElementById(tabName).classList.add('active');
}

/* ---------- FIREBASE INIT ---------- */
const firebaseConfig = {
  apiKey: "AIzaSyDjW_3cYR8apPFMmZqLqZh_9i2bN-1IEmY",
  authDomain: "college-finder-279aa.firebaseapp.com",
  databaseURL: "https://college-finder-279aa-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "college-finder-279aa",
  storageBucket: "college-finder-279aa.firebasestorage.app",
  messagingSenderId: "94401695690",
  appId: "1:94401695690:web:380de91d4f168ea2944933",
  measurementId: "G-NYKK0LYV1S"
};

firebase.initializeApp(firebaseConfig);
firebase.analytics();

const db = firebase.database();

/* ---------- LOAD MESSAGES ---------- */
db.ref("messages").on("value", snapshot => {
    let html = "";
    snapshot.forEach(data => {
        html += `<p><b>User:</b> ${data.val().text}</p>`;
    });
    document.getElementById("messageList").innerHTML = html;
});

/* ---------- SEND MESSAGE ---------- */
function sendMessage() {
    const msg = document.getElementById("messageInput").value;
    if (!msg.trim()) return;

    db.ref("messages").push({
        text: msg,
        time: Date.now()
    });

    document.getElementById("messageInput").value = "";
}
</script>

</body>
</html>
